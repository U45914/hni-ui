<div class="loading-entity-container" ng-show="vm.contentHidden">
    <loading-entity items="vm.orderInfo" content-hidden="vm.contentHidden"></loading-entity>
</div>

<out-of-orders show-if="vm.loadingOrderShown && !vm.contentHidden"></out-of-orders>

<div id="order-detail-container" ng-show="vm.orderShown && !vm.contentHidden">
    <div class="order-header-bar">
        <div class="order-detail-person">
            <div>Order For</div>
            <div>{{vm.orderInfo.userName}} <br /> <span phone-number-input ng-bind="vm.orderInfo.phoneNumber"></span></div>
            
        </div>
        <div class="order-detail-time">
            <div>&nbsp;</div>
            <div class="order-time">
                <i class="material-icons">&#xE192;</i>
                <div>{{vm.orderInfo.orderTime}}</div>
            </div>
        </div>
    </div>
    <div class="order-detail-triangle"></div>
    <div class="order-detail-info-container">
        <div layout="row" layout-wrap>
            <div flex flex-sm="100" flex-xs="100">
                <div class="order-section-container">
                    <order-detail-header icon="&#xE56C;" text="Meal Order"></order-detail-header>
                    <order-food-item ng-repeat="orderItem in vm.orderInfo.orderItems"
                                     number="{{orderItem.quantity}}" text="{{orderItem.name}}" description={{orderItem.description}}></order-food-item>
                </div>
            </div>
            <div flex flex-sm="100" flex-xs="100">
                <div class="order-detail-location-section">
                    <order-detail-header icon="&#xE0C8;" text="Location"></order-detail-header>
                    <div class="order-detail-for-container" layout="row" layout-wrap>
                        <div class="order-restaurant-name" flex="100">{{vm.orderInfo.providerName}}</div>
                        <div flex="100">{{vm.orderInfo.providerAddress}}</div>
                        <div flex="100">{{vm.orderInfo.providerCity + ', ' + vm.orderInfo.providerState}}</div>
                        <div flex="100"><md-button class="button-primary-outline" ng-click="vm.placeOrder()">Place Order</md-button></div>
                    </div>
                </div>
            </div>
            <div flex flex-sm="100" flex-xs="100">
                <div class="order-section-container">
                    <order-detail-header icon="&#xE870;" text="Order Payment"></order-detail-header>
                    <div class="order-detail-payment-section" layout="row" layout-wrap>
                        <div class="order-gift-card-label" flex="100">Gift Cards</div>
                        <div class="order-gift-card-number" flex="100">
                            <div class="payment-info-animation" ng-if="vm.showPaymentInfo" style="display: inline-block">
                                <span>{{vm.paymentInfo.cardNumber}}</span>
                                <span>{{vm.paymentInfo.pinNumber}}</span>
                            </div>
                        </div>
                        <div flex="100"><md-button class="button-primary" ng-click="vm.getMoreFunds();">I Need More Funds</md-button></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="order-detail-footer">
        <md-button class="button-primary" ui-sref="volunteer-landing">Cancel</md-button>
        <spinner-button text="Complete Order" click-fn="vm.completeOrder()" stop-fn="vm.showComplete"></spinner-button>
    </div>
</div>